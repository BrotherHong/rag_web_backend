# ðŸŽ¯ éƒ¨ç½²æž¶æ§‹åœ–

## é–‹ç™¼ç’°å¢ƒæž¶æ§‹

```
ä½ çš„é›»è…¦ (localhost)
â”‚
â”œâ”€ Python è™›æ“¬ç’°å¢ƒ (venv)
â”‚  â””â”€ FastAPI æ‡‰ç”¨ç¨‹å¼ (:8000)
â”‚     â”œâ”€ ç¨‹å¼ç¢¼ç†±é‡è¼‰ (--reload)
â”‚     â””â”€ IDE å¯ç›´æŽ¥ debug
â”‚
â””â”€ Docker å®¹å™¨
   â”œâ”€ PostgreSQL (:5432)
   â”œâ”€ Redis (:6379)
   â””â”€ Qdrant (:6333)
```

**å•Ÿå‹•æŒ‡ä»¤ï¼š**
```bash
docker-compose up -d              # å•Ÿå‹•è³‡æ–™åº«
.\venv\Scripts\activate          # å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
uvicorn app.main:app --reload    # å•Ÿå‹• FastAPI
```

---

## ç”Ÿç”¢ç’°å¢ƒæž¶æ§‹

```
ç”Ÿç”¢ä¼ºæœå™¨
â”‚
â””â”€ Docker å®¹å™¨é›†ç¾¤
   â”œâ”€ FastAPI Backend (:8000)
   â”‚  â””â”€ Uvicorn ä¼ºæœå™¨
   â”‚
   â”œâ”€ Celery Worker
   â”‚  â””â”€ èƒŒæ™¯ä»»å‹™è™•ç†
   â”‚
   â”œâ”€ Flower (:5555)
   â”‚  â””â”€ Celery ç›£æŽ§ä»‹é¢
   â”‚
   â”œâ”€ PostgreSQL (:5432)
   â”‚  â””â”€ æŒä¹…åŒ–è³‡æ–™å„²å­˜
   â”‚
   â”œâ”€ Redis (:6379)
   â”‚  â”œâ”€ å¿«å–
   â”‚  â””â”€ Celery Broker
   â”‚
   â””â”€ Qdrant (:6333)
      â””â”€ å‘é‡è³‡æ–™åº«
```

**å•Ÿå‹•æŒ‡ä»¤ï¼š**
```bash
docker-compose -f docker-compose.prod.yml up -d --build
```

---

## Git å·¥ä½œæµç¨‹

```
é–‹ç™¼é›»è…¦                GitHub                ç”Ÿç”¢ä¼ºæœå™¨
    â”‚                    â”‚                      â”‚
    â”‚  git push         â”‚                      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
    â”‚                    â”‚                      â”‚
    â”‚                    â”‚   git clone         â”‚
    â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚                    â”‚                      â”‚
    â”‚                    â”‚                      â”‚
    â”‚  ä¿®æ”¹ç¨‹å¼ç¢¼         â”‚                      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
    â”‚  git push          â”‚                      â”‚
    â”‚                    â”‚                      â”‚
    â”‚                    â”‚   git pull          â”‚
    â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚                    â”‚   docker-compose     â”‚
    â”‚                    â”‚   up -d --build      â”‚
    â”‚                    â”‚                      â”‚
```

---

## æª”æ¡ˆçµæ§‹å°ç…§

| æª”æ¡ˆ/è³‡æ–™å¤¾ | ç”¨é€” | Git è¿½è¹¤ |
|------------|------|----------|
| `app/` | æ‡‰ç”¨ç¨‹å¼åŽŸå§‹ç¢¼ | âœ… æ˜¯ |
| `tests/` | æ¸¬è©¦ç¨‹å¼ç¢¼ | âœ… æ˜¯ |
| `requirements.txt` | Python ä¾è³´ | âœ… æ˜¯ |
| `Dockerfile` | Docker æ˜ åƒæª”é…ç½® | âœ… æ˜¯ |
| `docker-compose.yml` | é–‹ç™¼ç’°å¢ƒé…ç½® | âœ… æ˜¯ |
| `docker-compose.prod.yml` | ç”Ÿç”¢ç’°å¢ƒé…ç½® | âœ… æ˜¯ |
| `.env.example` | ç’°å¢ƒè®Šæ•¸ç¯„æœ¬ | âœ… æ˜¯ |
| `.env` | å¯¦éš›ç’°å¢ƒè®Šæ•¸ï¼ˆå«å¯†ç¢¼ï¼‰ | âŒ å¦ |
| `uploads/` | ä½¿ç”¨è€…ä¸Šå‚³æª”æ¡ˆ | âŒ å¦ |
| `logs/` | æ—¥èªŒæª”æ¡ˆ | âŒ å¦ |
| `venv/` | Python è™›æ“¬ç’°å¢ƒ | âŒ å¦ |
| `__pycache__/` | Python å¿«å– | âŒ å¦ |

---

## ç’°å¢ƒè®Šæ•¸å°ç…§

| è®Šæ•¸ | é–‹ç™¼ç’°å¢ƒ | ç”Ÿç”¢ç’°å¢ƒ |
|------|----------|----------|
| `DEBUG` | `True` | `False` |
| `SECRET_KEY` | ç°¡å–®æ¸¬è©¦å¯†é‘° | å¼·éš¨æ©Ÿå¯†é‘° |
| `DATABASE_URL` | `localhost:5432` | `postgres:5432` |
| `REDIS_URL` | `localhost:6379` | `redis:6379` |
| `CORS_ORIGINS` | `localhost:5173` | æ­£å¼ç¶²åŸŸ |
| `OPENAI_API_KEY` | æ¸¬è©¦ Key | æ­£å¼ API Key |

---

## éƒ¨ç½²æª¢æŸ¥æ¸…å–®

### â˜‘ï¸ éƒ¨ç½²å‰

- [ ] æ‰€æœ‰ç¨‹å¼ç¢¼å·²æäº¤åˆ° Git
- [ ] `.env` æª”æ¡ˆå·²æ­£ç¢ºé…ç½®
- [ ] æ‰€æœ‰å¯†ç¢¼å·²æ›´æ”¹ç‚ºå¼·å¯†ç¢¼
- [ ] `DEBUG=False` åœ¨ç”Ÿç”¢ç’°å¢ƒ
- [ ] CORS è¨­å®šæ­£ç¢ºçš„ç¶²åŸŸ
- [ ] è³‡æ–™åº«å‚™ä»½å·²æº–å‚™

### â˜‘ï¸ éƒ¨ç½²ä¸­

- [ ] Docker å®¹å™¨æˆåŠŸå•Ÿå‹•
- [ ] è³‡æ–™åº«é·ç§»æˆåŠŸåŸ·è¡Œ
- [ ] æ‰€æœ‰æœå‹™å¥åº·æª¢æŸ¥é€šéŽ
- [ ] API æ–‡æª”å¯æ­£å¸¸è¨ªå•

### â˜‘ï¸ éƒ¨ç½²å¾Œ

- [ ] æ¸¬è©¦ç™»å…¥åŠŸèƒ½
- [ ] æ¸¬è©¦æª”æ¡ˆä¸Šå‚³
- [ ] æ¸¬è©¦ RAG æŸ¥è©¢
- [ ] è¨­å®šç›£æŽ§å’Œæ—¥èªŒ
- [ ] è¨­å®šå®šæœŸå‚™ä»½

---

## å¿«é€ŸæŒ‡ä»¤åƒè€ƒ

```bash
# é–‹ç™¼ç’°å¢ƒ
docker-compose up -d
.\venv\Scripts\activate
uvicorn app.main:app --reload

# ç”Ÿç”¢ç’°å¢ƒ
docker-compose -f docker-compose.prod.yml up -d --build

# æŸ¥çœ‹æ—¥èªŒ
docker-compose -f docker-compose.prod.yml logs -f backend

# é‡å•Ÿæœå‹™
docker-compose -f docker-compose.prod.yml restart

# åœæ­¢æœå‹™
docker-compose -f docker-compose.prod.yml down

# è³‡æ–™åº«é·ç§»
docker-compose -f docker-compose.prod.yml exec backend alembic upgrade head

# é€²å…¥å®¹å™¨
docker-compose -f docker-compose.prod.yml exec backend bash
```

---

**ç¾åœ¨ä½ å·²ç¶“å®Œå…¨æº–å‚™å¥½é–‹ç™¼å’Œéƒ¨ç½²äº†ï¼ðŸŽ‰**
